(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4167],{84498:function(e,t,r){Promise.resolve().then(r.bind(r,27024)),Promise.resolve().then(r.bind(r,8624)),Promise.resolve().then(r.bind(r,15272))},27024:function(e,t,r){"use strict";var a=r(57437),n=r(2265),o=r(87138),c=r(66648),i=r(38472),s=r(64379),l=r.n(s),d=r(16182),u=r(28910);t.default=e=>{let{params:t}=e,{id:r}=t,s=(0,u.TL)(),[m,f]=(0,n.useState)([]),[h,p]=(0,n.useState)([]),[g,x]=(0,n.useState)(!0),[b,y]=(0,n.useState)([]),[v,j]=(0,n.useState)([Number(r)]),[w,N]=(0,n.useState)("");(0,n.useEffect)(()=>{r&&(async()=>{try{let e=await i.Z.get("".concat("https://testingbackend.ceramicandfoodproducts.com","/Product/search/category/").concat(r)),t=Array.isArray(e.data)?e.data:[];f(t),p(t),j([Number(r)])}catch(e){console.error("Error fetching products:",e),f([]),p([])}finally{x(!1)}})()},[r]),(0,n.useEffect)(()=>{(async()=>{try{let e=await fetch("".concat("https://testingbackend.ceramicandfoodproducts.com","/Category/search")),t=await e.json();y(Array.isArray(t)?t:[])}catch(e){console.error("Error fetching categories:",e),y([])}})()},[]),(0,n.useEffect)(()=>{w&&Array.isArray(h)&&p([...h].sort((e,t)=>"lowToHigh"===w?e.price-t.price:t.price-e.price))},[w]);let O=async(e,t)=>{let r=t?[...v,e]:v.filter(t=>t!==e);if(j(r),x(!0),0===r.length){p([]),x(!1);return}try{let e=(await Promise.all(r.map(async e=>{let t=await fetch("".concat("https://testingbackend.ceramicandfoodproducts.com","/Product/search/category/").concat(e)),r=await t.text(),a=r?JSON.parse(r):[];return Array.isArray(a)?a:[]}))).flat();p(e)}catch(e){console.error("Error fetching category products:",e),p([])}finally{x(!1)}},P=e=>{var t;if(!e||!e.name)return;let r=(null===(t=e.json_attribute)||void 0===t?void 0:t.attributes)||{},a={};Object.entries(r).forEach(e=>{let[t,r]=e,n=Object.entries(r).find(e=>{let[t,r]=e;return r>0});n&&(a[t]={[n[0]]:n[1]})});let n={name:e.name,image:e.image,productId:e.Id,price:e.price,count:1,attributes:a};s((0,d.Xq)(n)),l().fire({icon:"success",title:"Added to cart",text:"".concat(e.name," has been added to your cart!"),timer:1500,showConfirmButton:!1})};return(0,a.jsx)("section",{children:(0,a.jsxs)("div",{className:"container mx-auto p-4 md:p-8 flex flex-col md:flex-row gap-8",children:[(0,a.jsxs)("aside",{className:"w-full md:w-64 p-4 bg-gray-100 border rounded-md shadow-md h-auto md:h-screen overflow-auto",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Sort by"}),(0,a.jsx)("div",{className:"mb-6 space-y-2",children:["lowToHigh","highToLow"].map(e=>(0,a.jsxs)("label",{className:"block text-sm",children:[(0,a.jsx)("input",{type:"radio",name:"sort",value:e,checked:w===e,onChange:()=>N(e),className:"mr-2"}),"lowToHigh"===e?"Price - Low to High":"Price - High to Low"]},e))}),(0,a.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Categories"}),(0,a.jsx)("div",{className:"space-y-2",children:b.map(e=>{let{Id:t,name:r}=e;return(0,a.jsxs)("label",{className:"block text-sm",children:[(0,a.jsx)("input",{type:"checkbox",value:t,checked:v.includes(t),onChange:e=>O(t,e.target.checked),className:"mr-2"}),r]},t)})})]}),(0,a.jsxs)("main",{className:"flex-1 p-6",children:[(0,a.jsxs)("h3",{className:"text-xl font-semibold mb-4 text-center",children:["Search Results:"," ",Array.isArray(h)?h.length:0," ",1===h.length?"product":"products"]}),g?(0,a.jsx)("p",{className:"text-center text-gray-600",children:"Loading products..."}):Array.isArray(h)&&0===h.length?(0,a.jsx)("p",{className:"text-center text-gray-600",children:"No products found."}):(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:h.map((e,t)=>{var r;return(0,a.jsxs)("div",{className:"relative border bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow duration-300 overflow-hidden flex flex-col justify-between",children:[e.offer&&(0,a.jsxs)("div",{className:"absolute top-0 left-0 bg-red-500 text-white text-xs font-bold py-1 px-2 rounded-br-md",children:[e.offer,"% OFF"]}),(0,a.jsx)("div",{className:"p-4 flex justify-center items-center bg-gray-100",children:(0,a.jsx)(c.default,{src:(null===(r=e.image[0])||void 0===r?void 0:r.startsWith("http"))?e.image[0]:"https://farseit.com/Upload/ProductImage/".concat(e.image[0].split("/").pop()),width:250,height:250,className:"w-auto h-48 object-cover group-hover:scale-105 transition-transform duration-300",alt:e.name,loading:0===t?"eager":"lazy",priority:0===t})}),(0,a.jsxs)("div",{className:"p-4 text-center",children:[(0,a.jsx)("h2",{className:"leading-tight text-center capitalize truncate text-normal font-roboto font-medium",children:e.name}),(0,a.jsx)("div",{className:"flex justify-between items-center",children:(0,a.jsx)("div",{className:"flex flex-col",children:(0,a.jsxs)("p",{className:"flex justify-center gap-1 text-xs font-lato md:text-base",children:[(0,a.jsx)("span",{className:"mr-0.5",children:"à§³"}),new Intl.NumberFormat().format(e.price)]})})}),(0,a.jsxs)("div",{className:"flex justify-center gap-2 w-full",children:[(0,a.jsx)("button",{onClick:()=>P(e),className:"flex-1 w-full max-w-[200px] rounded-md border border-dash-primary text-[10px] capitalize text-[#192a56] font-semibold text-center py-1 md:px-1.5 md:text-[11px] transition-all duration-300 hover:bg-dash-primary hover:text-white",children:"Add to Cart"}),(0,a.jsx)(o.default,{href:"/checkout?productId=".concat(e.Id),className:"flex-1 w-full max-w-[200px] rounded-md bg-dash-primary text-[10px] capitalize text-white text-center font-semibold py-1 md:px-1.5 md:text-[11px] transition-all duration-300 hover:bg-[#0056b3]",onClick:()=>P(e),children:"Buy Now"})]})]})]},t)})})]})]})})}},28910:function(e,t,r){"use strict";r.d(t,{TL:function(){return n}});var a=r(11444);let n=a.I0.withTypes();a.v9.withTypes(),a.oR.withTypes()},66648:function(e,t,r){"use strict";r.d(t,{default:function(){return n.a}});var a=r(55601),n=r.n(a)},55601:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{default:function(){return s},getImageProps:function(){return i}});let a=r(99920),n=r(80497),o=r(38173),c=a._(r(21241));function i(e){let{props:t}=(0,n.getImgProps)(e,{defaultLoader:c.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!0}});for(let[e,r]of Object.entries(t))void 0===r&&delete t[e];return{props:t}}let s=o.Image},91810:function(e,t,r){"use strict";r.d(t,{w_:function(){return d}});var a=r(2265),n={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},o=a.createContext&&a.createContext(n),c=["attr","size","title"];function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach(function(t){var a,n;a=t,n=r[t],(a=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(a))in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function d(e){return t=>a.createElement(u,i({attr:l({},e.attr)},t),function e(t){return t&&t.map((t,r)=>a.createElement(t.tag,l({key:r},t.attr),e(t.child)))}(e.child))}function u(e){var t=t=>{var r,{attr:n,size:o,title:s}=e,d=function(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(e,c),u=o||t.size||"1em";return t.className&&(r=t.className),e.className&&(r=(r?r+" ":"")+e.className),a.createElement("svg",i({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,n,d,{className:r,style:l(l({color:e.color||t.color},t.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),s&&a.createElement("title",null,s),e.children)};return void 0!==o?a.createElement(o.Consumer,null,e=>t(e)):t(n)}}},function(e){e.O(0,[9461,7699,6051,8472,8173,1444,1904,7138,4336,2971,7023,1744],function(){return e(e.s=84498)}),_N_E=e.O()}]);