(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4296],{91362:function(e,t,a){Promise.resolve().then(a.bind(a,9174))},9174:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return x}});var r=a(57437),s=a(2265),n=a(38472),l=a(16463);a(28910);var o=a(87138);a(6920),a(75735),(0,a(15236).ZF)({apiKey:"AIzaSyAFOF0xQDZk0ce86YPbuxNLhXIVMuPAGKM",authDomain:"ecommerce-8215f.firebaseapp.com",projectId:"ecommerce-8215f",storageBucket:"ecommerce-8215f.appspot.com",messagingSenderId:"499081831674",appId:"1:499081831674:web:49ce7520643212b6ed1543"}),a(84894);var i=a(7476),d=a(66648),c=a(91326),m=a(76548),p=a(62501);let u={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};var h=e=>{let{otpModalOpen:t,email:a}=e,[o,i]=(0,s.useState)(!1),[d,h]=(0,s.useState)(Array(6).fill("")),x=(0,l.useRouter)();(0,s.useEffect)(()=>{t&&i(!0)},[t]);let g=(e,t)=>{let a=e.target.value;if(/^\d$/.test(a)){let e=[...d];e[t]=a,h(e),t<d.length-1&&document.getElementById("otp".concat(t+1)).focus()}},f=(e,t)=>{"Backspace"===e.key&&""===d[t]&&t>0&&document.getElementById("otp".concat(t-1)).focus()},b=e=>{e.preventDefault();let t=e.clipboardData.getData("text").slice(0,6);if(/^\d+$/.test(t)){let e=[...d];t.split("").forEach((t,a)=>{e[a]=t}),h(e),document.getElementById("otp".concat(t.length-1)).focus()}},w=async e=>{e.preventDefault();let t=d.join("");try{let e=await n.Z.post("".concat("https://testingbackend.ceramicandfoodproducts.com","/auth/SignupVerifyOTP"),{email:a,otp:t},{headers:{"Content-Type":"application/json"}});201===e.status&&x.push("/")}catch(e){console.log(e.response?e.response.data:e.message)}};return(0,r.jsx)(p.Z,{open:o,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,r.jsxs)(c.Z,{sx:u,children:[(0,r.jsx)("p",{className:"inputLabel",children:"Please Provide Your OTP"}),(0,r.jsx)("div",{className:"w-full h-full relative",children:(0,r.jsxs)("form",{className:"flex flex-col items-start gap-3",onSubmit:w,children:[(0,r.jsx)("div",{className:"flex gap-1 border-2",children:d.map((e,t)=>(0,r.jsx)("input",{id:"otp".concat(t),type:"text",name:"otp".concat(t),maxLength:1,value:e,className:"border border-[rgba(0,0,255,0.5)] w-[3rem] h-[3rem] text-center",onChange:e=>g(e,t),onKeyDown:e=>f(e,t),onPaste:b},t))}),(0,r.jsx)("button",{type:"submit",className:"bg-[rgba(0,128,0,0.5)] px-2 py-1 rounded-lg text-white",children:"Submit"})]})}),(0,r.jsx)("p",{children:a}),(0,r.jsx)(m.Z,{onClick:()=>i(!1),className:"absolute top-1 right-0",children:"X"})]})})},x=()=>{let[e,t]=(0,s.useState)("");(0,l.useRouter)();let[a,c]=(0,s.useState)(!1),[m,p]=(0,s.useState)(!1),[u,x]=(0,s.useState)(""),[g,f]=(0,s.useState)({name:"",email:"",password:"",confirm_password:"",image:"",phone:""}),[b,w]=(0,s.useState)({name:"",email:"",address:"",phone:"",password:"",confirm_password:"",role:"",registration_date:"",image:""}),j=e=>{let{name:t,value:a}=e.target;f({...g,[t]:a}),w({...b,[t]:""})},y=async e=>{e.preventDefault();let t=!0,a={...b};(""===g.name.trim()?(a.name="Name is required",t=!1):(g.name.trim().length<2||g.name.trim().length>150)&&(a.name="Name must be between ".concat(2," and ").concat(150," characters"),t=!1),""===g.email.trim())?(a.email="Email is required",t=!1):(/\S+@\S+\.\S+/.test(g.email)||(a.email="Invalid email format",t=!1),g.email.trim().length>150&&(a.email="Email must be ".concat(150," characters or less"),t=!1)),""===g.phone.trim()?(a.phone="Phone number if required",t=!1):g.phone.length<11&&(a.phone="Invalid Phone Number",t=!1),g.password!==g.confirm_password&&(a.confirm_password="Confirm Password didn't match",t=!1),""===g.password.trim()?(a.password="Password is required",t=!1):g.password.length<6&&(a.password="Password must be at least 6 characters long",t=!1),""===g.confirm_password.trim()&&(a.confirm_password="Confirm Password is required");let r=new FormData;if(r.append("name",null==g?void 0:g.name),r.append("email",null==g?void 0:g.email),r.append("address","address"),r.append("phone",null==g?void 0:g.phone),r.append("password",null==g?void 0:g.password),r.append("registration_date",new Date().toISOString()),r.append("role","user"),r.append("defaultPicture",null==g?void 0:g.image),t)try{let e=await n.Z.post("".concat("https://testingbackend.ceramicandfoodproducts.com","/auth/signup"),r,{headers:{"Content-Type":"multipart/form-data"}});201===e.status?(p(!0),x(r.get("email"))):console.error("Unexpected response:",e)}catch(e){console.error("Error during signup:",e.response||e.message)}else w(a)};return(0,r.jsxs)("section",{className:"grid lg:grid-cols-2 min-h-screen",children:[(0,r.jsxs)("div",{className:"relative hidden md:block order-2",children:[(0,r.jsx)(d.default,{src:"/img/signin.png",width:600,height:800,alt:"signin image",className:"w-full blur-lg h-full object-cover object-top"}),(0,r.jsx)("div",{className:"absolute w-[445px] top-1/2 -translate-y-1/2 left-1/2 -translate-x-1/2",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("h3",{className:"text-xl font-bold text-white",children:"Sign Up for batter experience"}),(0,r.jsx)(o.default,{href:"/signup",className:"block border-2 active:scale-95 hover:border-[#2FB261] hover:text-[#2FB261] border-white text-white text-xl uppercase px-4 py-2 w-full rounded-[10px]  transition duration-300 mt-6",children:"Sign Up"})]})})]}),(0,r.jsx)("div",{className:"lg:mt-5 flex flex-col justify-center items-center ",children:(0,r.jsxs)("div",{className:"bg-white shadow-md rounded-lg p-8  ",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold mb-6 text-center text-gray-800",children:"Create Your Account"}),(0,r.jsx)("span",{className:"block text-[#9F9F9F] text-xl text-center mb-6",children:"Please enter your details"}),(0,r.jsxs)("form",{onSubmit:y,className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("input",{type:"text",name:"name",value:g.name,placeholder:"Enter your name",onChange:j,className:"mt-1 block w-full p-2 border border-gray-300 rounded-md"}),b.name&&(0,r.jsx)("p",{className:"text-red-500 text-sm mt-1",children:b.name})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("input",{type:"email",name:"email",value:g.email,onChange:j,placeholder:"Enter your email",className:"mt-1 block w-full p-2 border border-gray-300 rounded-md"}),b.email&&(0,r.jsx)("p",{className:"text-red-500 text-sm mt-1",children:b.email})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("input",{type:"text",name:"phone",value:g.phone,onChange:j,placeholder:"Enter phone number",className:"mt-1 block w-full p-2 border border-gray-300 rounded-md"}),b.email&&(0,r.jsx)("p",{className:"text-red-500 text-sm mt-1",children:b.phone})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("input",{type:a?"text":"password",name:"password",value:g.password,onChange:j,placeholder:"●●●●●●●●●●●",className:"mt-1 block w-full p-2 border border-gray-300 rounded-md"}),(0,r.jsx)("button",{type:"button",onClick:()=>c(!a),className:"absolute opacity-50 right-3 top-1/2 -translate-y-1/2 ",children:a||""===g.password?(0,r.jsx)(i.rzC,{className:"text-xl"}):(0,r.jsx)(i.rDJ,{className:"text-xl"})})]}),b.password&&(0,r.jsx)("p",{className:"text-red-500 text-sm mt-1",children:b.password})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("input",{type:a?"text":"password",name:"confirm_password",value:g.confirm_password,onChange:j,placeholder:"●●●●●●●●●●●",className:"mt-1 block w-full p-2 border border-gray-300 rounded-md"}),(0,r.jsx)("button",{type:"button",onClick:()=>c(!a),className:"absolute opacity-50 right-3 top-1/2 -translate-y-1/2 ",children:a||""===g.confirm_password?(0,r.jsx)(i.rzC,{className:"text-xl"}):(0,r.jsx)(i.rDJ,{className:"text-xl"})})]}),b.confirm_password&&(0,r.jsx)("p",{className:"text-red-500 text-sm mt-1",children:b.confirm_password})]}),(0,r.jsx)("div",{children:(0,r.jsx)("input",{type:"file",name:"image",id:"",placeholder:"Upload Your Image",className:"p-1 border file:text-white file:bg-[#2FB261] file:border-0 file:p-2 file:rounded-s-md border-gray-300 w-full rounded-md",onChange:e=>{let t=e.target.files[0];f({...g,image:t})}})}),(0,r.jsx)("button",{type:"submit",className:" active:scale-95 bg-[#2FB261] hover:bg-[#248b4c] text-white text-xl uppercase px-4 py-2 w-full rounded-[10px]  transition duration-300 mt-6",children:"Sign Up"})]}),(0,r.jsx)(o.default,{href:"/signin",children:(0,r.jsxs)("h6",{className:"text-center mt-3 font-bold text-xl",children:["Already have an account?"," ",(0,r.jsx)("span",{className:" text-[#2FB261]",children:"Sign In"})]})})]})}),(0,r.jsx)(h,{otpModalOpen:m,email:u})]})}},28910:function(e,t,a){"use strict";a.d(t,{TL:function(){return s}});var r=a(11444);let s=r.I0.withTypes();r.v9.withTypes(),r.oR.withTypes()},84894:function(e,t,a){"use strict";a.d(t,{AP:function(){return l},Uw:function(){return m},fc:function(){return n},jp:function(){return p},kv:function(){return c},lA:function(){return s}});let r=(0,a(81904).oM)({name:"user",initialState:{currentUser:null,error:null,loading:!1},reducers:{SignInStart:e=>{e.loading=!0,e.error=null},SignInSuccess:(e,t)=>{e.currentUser=t.payload,e.loading=!1,e.error=null},SignInFailure:(e,t)=>{e.loading=!1,e.error=t.payload},RegisterStart:e=>{e.loading=!0,e.error=null},RegisterSuccess:(e,t)=>{e.currentUser=t.payload,e.loading=!1,e.error=null},RegisterFailure:(e,t)=>{e.loading=!1,e.error=t.payload},UpdateProfileStart:e=>{e.loading=!0,e.error=null},UpdateProfileSuccess:(e,t)=>{e.currentUser={...e.currentUser,...t.payload},e.loading=!1,e.error=null},UpdateProfileFailure:(e,t)=>{e.loading=!1,e.error=t.payload},LogOutUser:(e,t)=>{e.currentUser=null}}}),{SignInStart:s,SignInFailure:n,SignInSuccess:l,RegisterStart:o,RegisterSuccess:i,RegisterFailure:d,UpdateProfileStart:c,UpdateProfileSuccess:m,UpdateProfileFailure:p,LogOutUser:u}=r.actions;t.ZP=r.reducer}},function(e){e.O(0,[9956,9208,4413,8472,8173,9537,8729,2501,1444,1904,7138,1992,2971,7023,1744],function(){return e(e.s=91362)}),_N_E=e.O()}]);